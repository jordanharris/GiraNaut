!function(){function a(a){var b=a||{};this.d=this.c=n,void 0==a.visible&&(a.visible=m),void 0==a.shadow&&(a.shadow="7px -3px 5px rgba(88,88,88,0.7)"),void 0==a.anchor&&(a.anchor=o.BOTTOM),this.setValues(b)}function b(a,b){var c=document.createElement("DIV");if(c.innerHTML=b,1==c.childNodes.length)return c.removeChild(c.firstChild);for(var d=document.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);return d}function c(a,b){if(b)for(var c;c=b.firstChild;)b.removeChild(c)}function d(a,b){if(a.c){var c="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==b&&(c="-moz-grabbing"),"dragready"==b&&(c="-moz-grab")):("dragging"==b||"dragready"==b)&&(c="move"),"draggable"==b&&(c="pointer"),a.a.style.cursor!=c&&(a.a.style.cursor=c)}}function e(a,b){if(a.getDraggable()&&!a.d){a.d=m;var c=a.getMap();a.m=c.get("draggable"),c.set("draggable",n),a.h=b.clientX,a.i=b.clientY,d(a,"dragready"),a.a.style.MozUserSelect="none",a.a.style.KhtmlUserSelect="none",a.a.style.WebkitUserSelect="none",a.a.unselectable="on",a.a.onselectstart=function(){return n},j(a),google.maps.event.trigger(a,"dragstart")}}function f(a){a.getDraggable()&&a.d&&(a.d=n,a.getMap().set("draggable",a.m),a.h=a.i=a.m=null,a.a.style.MozUserSelect="",a.a.style.KhtmlUserSelect="",a.a.style.WebkitUserSelect="",a.a.unselectable="off",a.a.onselectstart=function(){},k(a),d(a,"draggable"),google.maps.event.trigger(a,"dragend"),a.draw())}function g(a,b){if(a.getDraggable()&&a.d){var c=a.h-b.clientX,e=a.i-b.clientY;a.h=b.clientX,a.i=b.clientY,c=parseInt(a.a.style.left,10)-c,e=parseInt(a.a.style.top,10)-e,a.a.style.left=c+"px",a.a.style.top=e+"px";var g=l(a);a.setPosition(a.getProjection().fromDivPixelToLatLng(new google.maps.Point(c-g.width,e-g.height))),d(a,"dragging"),google.maps.event.trigger(a,"drag")}else f(a)}function h(a){a.f&&(google.maps.event.removeListener(a.f),delete a.f),d(a,"")}function i(a,b){b&&(a.f=google.maps.event.addDomListener(b,"mousedown",function(b){e(a,b)}),d(a,"draggable"))}function j(a){a.a.setCapture?(a.a.setCapture(m),a.e=[google.maps.event.addDomListener(a.a,"mousemove",function(b){g(a,b)},m),google.maps.event.addDomListener(a.a,"mouseup",function(){f(a),a.a.releaseCapture()},m)]):a.e=[google.maps.event.addDomListener(window,"mousemove",function(b){g(a,b)},m),google.maps.event.addDomListener(window,"mouseup",function(){f(a)},m)]}function k(a){if(a.e){for(var b,c=0;b=a.e[c];c++)google.maps.event.removeListener(b);a.e.length=0}}function l(a){var b=a.l();if("object"==typeof b)return b;var c=new google.maps.Size(0,0);if(!a.b)return c;var d=a.b.offsetWidth;switch(a=a.b.offsetHeight,b){case o.TOP:c.width=-d/2;break;case o.TOP_RIGHT:c.width=-d;break;case o.LEFT:c.height=-a/2;break;case o.MIDDLE:c.width=-d/2,c.height=-a/2;break;case o.RIGHT:c.width=-d,c.height=-a/2;break;case o.BOTTOM_LEFT:c.height=-a;break;case o.BOTTOM:c.width=-d/2,c.height=-a;break;case o.BOTTOM_RIGHT:c.width=-d,c.height=-a}return c}var m=!0,n=!1;a.prototype=new google.maps.OverlayView,window.RichMarker=a,a.prototype.getVisible=function(){return this.get("visible")},a.prototype.getVisible=a.prototype.getVisible,a.prototype.setVisible=function(a){this.set("visible",a)},a.prototype.setVisible=a.prototype.setVisible,a.prototype.s=function(){this.c&&(this.a.style.display=this.getVisible()?"":"none",this.draw())},a.prototype.visible_changed=a.prototype.s,a.prototype.setFlat=function(a){this.set("flat",!!a)},a.prototype.setFlat=a.prototype.setFlat,a.prototype.getFlat=function(){return this.get("flat")},a.prototype.getFlat=a.prototype.getFlat,a.prototype.p=function(){return this.get("width")},a.prototype.getWidth=a.prototype.p,a.prototype.o=function(){return this.get("height")},a.prototype.getHeight=a.prototype.o,a.prototype.setShadow=function(a){this.set("shadow",a),this.g()},a.prototype.setShadow=a.prototype.setShadow,a.prototype.getShadow=function(){return this.get("shadow")},a.prototype.getShadow=a.prototype.getShadow,a.prototype.g=function(){this.c&&(this.a.style.boxShadow=this.a.style.webkitBoxShadow=this.a.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},a.prototype.flat_changed=a.prototype.g,a.prototype.setZIndex=function(a){this.set("zIndex",a)},a.prototype.setZIndex=a.prototype.setZIndex,a.prototype.getZIndex=function(){return this.get("zIndex")},a.prototype.getZIndex=a.prototype.getZIndex,a.prototype.t=function(){this.getZIndex()&&this.c&&(this.a.style.zIndex=this.getZIndex())},a.prototype.zIndex_changed=a.prototype.t,a.prototype.getDraggable=function(){return this.get("draggable")},a.prototype.getDraggable=a.prototype.getDraggable,a.prototype.setDraggable=function(a){this.set("draggable",!!a)},a.prototype.setDraggable=a.prototype.setDraggable,a.prototype.k=function(){this.c&&(this.getDraggable()?i(this,this.a):h(this))},a.prototype.draggable_changed=a.prototype.k,a.prototype.getPosition=function(){return this.get("position")},a.prototype.getPosition=a.prototype.getPosition,a.prototype.setPosition=function(a){this.set("position",a)},a.prototype.setPosition=a.prototype.setPosition,a.prototype.q=function(){this.draw()},a.prototype.position_changed=a.prototype.q,a.prototype.l=function(){return this.get("anchor")},a.prototype.getAnchor=a.prototype.l,a.prototype.r=function(a){this.set("anchor",a)},a.prototype.setAnchor=a.prototype.r,a.prototype.n=function(){this.draw()},a.prototype.anchor_changed=a.prototype.n,a.prototype.setContent=function(a){this.set("content",a)},a.prototype.setContent=a.prototype.setContent,a.prototype.getContent=function(){return this.get("content")},a.prototype.getContent=a.prototype.getContent,a.prototype.j=function(){if(this.b){c(this,this.b);var a=this.getContent();if(a){"string"==typeof a&&(a=a.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),a=b(this,a)),this.b.appendChild(a);var d=this;a=this.b.getElementsByTagName("IMG");for(var e,f=0;e=a[f];f++)google.maps.event.addDomListener(e,"mousedown",function(a){d.getDraggable()&&(a.preventDefault&&a.preventDefault(),a.returnValue=n)}),google.maps.event.addDomListener(e,"load",function(){d.draw()});google.maps.event.trigger(this,"domready")}this.c&&this.draw()}},a.prototype.content_changed=a.prototype.j,a.prototype.onAdd=function(){if(this.a||(this.a=document.createElement("DIV"),this.a.style.position="absolute"),this.getZIndex()&&(this.a.style.zIndex=this.getZIndex()),this.a.style.display=this.getVisible()?"":"none",!this.b){this.b=document.createElement("DIV"),this.a.appendChild(this.b);var a=this;google.maps.event.addDomListener(this.b,"click",function(){google.maps.event.trigger(a,"click")}),google.maps.event.addDomListener(this.b,"mouseover",function(){google.maps.event.trigger(a,"mouseover")}),google.maps.event.addDomListener(this.b,"mouseout",function(){google.maps.event.trigger(a,"mouseout")})}this.c=m,this.j(),this.g(),this.k();var b=this.getPanes();b&&b.overlayImage.appendChild(this.a),google.maps.event.trigger(this,"ready")},a.prototype.onAdd=a.prototype.onAdd,a.prototype.draw=function(){if(this.c&&!this.d){var a=this.getProjection();if(a){var b=this.get("position");a=a.fromLatLngToDivPixel(b),b=l(this),this.a.style.top=a.y+b.height+"px",this.a.style.left=a.x+b.width+"px",a=this.b.offsetHeight,b=this.b.offsetWidth,b!=this.get("width")&&this.set("width",b),a!=this.get("height")&&this.set("height",a)}}},a.prototype.draw=a.prototype.draw,a.prototype.onRemove=function(){this.a&&this.a.parentNode&&this.a.parentNode.removeChild(this.a),h(this)},a.prototype.onRemove=a.prototype.onRemove;var o={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=o}();
//# sourceMappingURL=gMapsMarkerManipulation.min.map